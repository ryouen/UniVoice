# UniVoice レイアウトルール

## 🎯 基本原則

UniVoiceのレイアウトは、一貫性のある数学的ルールに基づいています。
すべての値は基本単位から導出されます。

## 📐 基本単位

- **ボタンサイズ**: 36px × 36px
- **ボタン間隔**: 10px
- **エッジマージン**: 20px（画面端からの距離）

## 📏 派生値の計算

### グループ間隔
- **56px** = ボタン1つ分のスペース（36px + 両端の間隔10px × 2）
- 用途：異なる機能グループを視覚的に分離

### 特殊要素のサイズ
- **録音インジケータ**: 128px = ボタン3つ分（36×3 + 10×2）
- **中央ボタン**: 82px = ボタン2つ分（36×2 + 10×1）

### 位置計算
- **設定バー右ボタン**: right: 112px = 20px + 36×2 + 10×2
  （右端から：エッジ + ボタン2つ + 間隔2つ）

## 🔧 実装ルール

### 1. ボタンの表示/非表示

```typescript
// ❌ 間違い：display: none（位置が変わる）
// ✅ 正解：visibility: hidden（位置を保持）
```

**理由**: ▽と△ボタンは排他的に表示されるが、表示/非表示で他のボタンの位置が変わらないようにする

### 2. レイアウト構成

#### メインメニュー（ヘッダー）
```
|<-20px->|[録音●128px]|<-10px->|[一時停止36x36]|<-10px->|[終了36x36]|<-10px->|[次へ36x36]
                        中央: [履歴82x36]|<-10px->|[要約82x36]|<-10px->|[質問82x36]
                                              [ピン]|<-10px->|[▽]|<-10px->|[△]|<-56px->|[×]|<-20px->|
```

#### メイン設定バー
```
|<-20px->|[両方]|<-10px->|[原文]|<-10px->|[訳文]|<-56px->|[テーマ]
                                                    [-]|<-10px->|[T]|<-10px->|[+]|<---112px--->|
```

#### 要約ウィンドウヘッダー
```
|<-20px->|[両方]|<-10px->|[原文]|<-10px->|[訳文]|<-20px->|[テーマ]
                                              [-]|<-10px->|[T]|<-10px->|[+]|<-56px->|[×]|<-20px->|
```

## 📝 開発者への注意

1. **これらの値を変更する場合は、必ず関連する全ての場所を更新すること**
2. **新しいボタンを追加する場合は、既存のルールに従うこと**
3. **「なぜこの値か」が不明な場合は、このドキュメントを参照**

## 🔗 関連ファイル

- `src/styles/design-tokens.ts` - 定数定義
- `src/components/UniVoice.module.css` - CSS変数
- 各コンポーネントの冒頭コメント