# ユーザー価値駆動タスクリスト

作成日: 2025-08-28  
作成者: Claude (シニアエンジニア視点)

## 🎯 根本的な優先順位の考え方

**原則**: ユーザーの痛みを解決する > 技術的理想の追求

UniVoiceのユーザーは**大学生**です。彼らが直面している問題：
1. 💔 **180分の講義データが消える**（最大の痛み）
2. 📝 **レポート作成が手作業**（時間の無駄）
3. 📚 **単語帳が見づらい**（学習効率低下）
4. 🌙 **ダークUIで目が疲れる**（使用体験の悪化）

## 📋 ユーザー価値ベースのタスク構造

```
今すぐ解決すべき問題（P0）
├── データ永続化（4タスク）- データを失わない
└── レポート生成UI（3タスク）- 時間を節約

今週中に解決すべき問題（P1）
├── 単語帳表示UI（2タスク）- 学習効率向上
└── ライトテーマ（1タスク）- 使いやすさ向上

技術的改善（P2-P3）
├── バグ修正（1タスク）
└── 将来の保守性（3タスク）
```

## 🚨 P0: 今すぐ解決すべき問題【7-9時間】

### セッションデータ永続化（4-5時間）

**問題**: 講義中にアプリがクラッシュしたら全てのデータが失われる

- [ ] **#001** IndexedDBスキーマ設計（1h）
  ```typescript
  // 必要なデータ構造
  interface SessionData {
    id: string;
    timestamp: number;
    transcripts: TranscriptSegment[];
    translations: Translation[];
    summaries: Summary[];
    metadata: { duration: number; language: string; }
  }
  ```

- [ ] **#002** データリポジトリ実装（1.5h）
  - 自動保存（30秒ごと）
  - トランザクション管理
  - エラーリカバリー

- [ ] **#003** 中断・再開機能実装（1.5h）
  - セッション一覧UI
  - 「続きから再開」ボタン
  - データ整合性チェック

- [ ] **#004** 180分講義シミュレーションテスト（1h）
  - 実際の講義時間でのテスト
  - メモリ使用量確認
  - パフォーマンス測定

### レポート生成UI（3-4時間）

**問題**: 学生は講義後に手動でレポートを作成している

- [ ] **#005** レポート生成ボタン追加（1h）
  - UIデザイン（シンプルなボタン）
  - クリックハンドラー
  - ローディング状態

- [ ] **#006** Markdownレンダリング実装（1.5h）
  - react-markdownライブラリ
  - スタイリング（読みやすさ重視）
  - セクション折りたたみ機能

- [ ] **#007** PDF/HTMLエクスポート（1.5h）
  - ブラウザ印刷機能活用
  - HTMLファイルダウンロード
  - クリップボードコピー

## 🎨 P1: 今週中に解決すべき問題【3-5時間】

### 単語帳表示UI（2-3時間）

**問題**: JSONデータが生で表示されて見づらい

- [ ] **#008** JSONデータのテーブル表示（1.5h）
  ```typescript
  // シンプルなテーブルコンポーネント
  <VocabularyTable data={vocabularyItems} />
  ```

- [ ] **#009** ソート・フィルタ機能（1.5h）
  - 単語検索
  - 重要度ソート
  - カテゴリフィルタ

### 履歴UIライトテーマ（1-2時間）

**問題**: ダークテーマで長時間使うと目が疲れる

- [ ] **#010** 現在のダークテーマを明るく（1.5h）
  - 背景色: #1a1a1a → #f5f5f5
  - テキスト: #ffffff → #333333
  - アクセント色の調整

## 🔧 P2-P3: 技術的改善【必要に応じて】

### P2: 中優先度

- [ ] **#011** GPT-5推論漏れ修正（1-2h）
  - reasoning内容のフィルタリング
  - 表示前のサニタイズ

### P3: 低優先度（動いているものは触らない）

- [ ] **#012** イベント発行部分の抽出（慎重に）
  - 本当に必要になったときだけ
  - 最小限の変更で

- [ ] **#013** 長時間セッションのメモリ最適化
  - 実際に問題が発生してから

- [ ] **#014** E2Eテスト充実化
  - 基本機能が安定してから

## 💡 なぜこの優先順位か

### ユーザーストーリーで考える

1. **田中さん（工学部3年）**
   - 3時間の専門講義を受講中
   - PCがフリーズ → **全データ消失** → 😭
   - → **セッションデータ永続化**が最優先

2. **佐藤さん（留学生）**  
   - 講義後にレポート作成
   - メモから手作業で整形 → **2時間かかる** → 😫
   - → **レポート生成UI**で5分に短縮

3. **鈴木さん（経済学部2年）**
   - 専門用語の復習
   - JSON形式で読みづらい → **学習効率低下** → 😕
   - → **単語帳UI**で効率的に学習

## 🚀 実装アプローチ

### 段階的リリース

**今週（Week 1）**: P0完了 → **即座にユーザー価値を提供**
- v2.1.0: データ永続化 + レポート生成

**来週（Week 2）**: P1完了 → **使い勝手を大幅改善**
- v2.2.0: 単語帳UI + ライトテーマ

**必要に応じて**: P2-P3 → **実際の問題が出てから**

### リスク最小化

1. **動いているものは触らない**
   - UnifiedPipelineService（1237行）→ そのまま
   - Clean Architecture → 後回し

2. **新機能として追加**
   - 既存コードへの影響最小
   - ロールバック可能

3. **ユーザーフィードバック優先**
   - 実装 → リリース → フィードバック → 改善

## 📊 成功指標

### ユーザー満足度
- ✅ データを失わない安心感
- ✅ レポート作成時間: 2時間 → 5分
- ✅ 単語学習の効率向上
- ✅ 長時間使用でも疲れない

### 技術的指標
- ⚠️ コード行数 → **気にしない**
- ⚠️ 完璧な設計 → **動くことが優先**
- ✅ バグゼロ
- ✅ パフォーマンス維持

## 🎓 学び

**シニアエンジニアとして最も重要なこと**：
- 技術的完璧さ < ユーザー価値
- 理想的な設計 < 実際に動くもの
- 将来の拡張性 < 今の問題解決

「Perfect is the enemy of good」- 完璧を求めすぎて、良いものを提供できないより、80点でもユーザーに価値を届けることが大切。